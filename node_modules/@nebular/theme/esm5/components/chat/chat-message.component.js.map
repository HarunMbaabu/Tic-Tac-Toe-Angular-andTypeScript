{"version":3,"file":"chat-message.component.js","sourceRoot":"","sources":["../../../../../../.ng_build/theme/components/chat/chat-message.component.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { ChangeDetectionStrategy, Component, HostBinding, Input } from '@angular/core';\nimport { convertToBoolProperty } from '../helpers';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\n\n/**\n * Chat message component.\n *\n * Multiple message types are available through a `type` property, such as\n * - text - simple text message\n * - file - could be a file preview or a file icon\n * if multiple files are provided grouped files are shown\n * - quote - quotes a message with specific quote styles\n * - map - shows a google map picture by provided [latitude] and [longitude] properties\n *\n * @stacked-example(Available Types, chat/chat-message-types-showcase.component)\n *\n * Message with attached files:\n * ```html\n * <nb-chat-message\n *   type=\"file\"\n *   [files]=\"[ { url: '...' } ]\"\n *   message=\"Hello world!\">\n * </nb-chat-message>\n * ```\n *\n * Map message:\n * ```html\n * <nb-chat-message\n *   type=\"map\"\n *   [latitude]=\"53.914\"\n *   [longitude]=\"27.59\"\n *   message=\"Here I am\">\n * </nb-chat-message>\n * ```\n *\n * @styles\n *\n * chat-message-background:\n * chat-message-text-color:\n * chat-message-reply-background-color:\n * chat-message-reply-text-color:\n * chat-message-avatar-background-color:\n * chat-message-sender-text-color:\n * chat-message-quote-background-color:\n * chat-message-quote-text-color:\n * chat-message-file-text-color:\n * chat-message-file-background-color:\n */\n@Component({\n  selector: 'nb-chat-message',\n  template: `\n    <div class=\"avatar\" [style.background-image]=\"avatarStyle\" *ngIf=\"!reply\">\n      <ng-container *ngIf=\"!avatarStyle\">\n        {{ getInitials() }}\n      </ng-container>\n    </div>\n    <div class=\"message\">\n      <ng-container [ngSwitch]=\"type\">\n\n        <nb-chat-message-file *ngSwitchCase=\"'file'\"\n                              [sender]=\"sender\" [date]=\"date\" [message]=\"message\" [files]=\"files\">\n        </nb-chat-message-file>\n\n        <nb-chat-message-quote *ngSwitchCase=\"'quote'\"\n                              [sender]=\"sender\" [date]=\"date\" [message]=\"message\" [quote]=\"quote\">\n        </nb-chat-message-quote>\n\n        <nb-chat-message-map *ngSwitchCase=\"'map'\"\n                              [sender]=\"sender\" [date]=\"date\"\n                              [message]=\"message\" [latitude]=\"latitude\" [longitude]=\"longitude\">\n        </nb-chat-message-map>\n\n        <nb-chat-message-text *ngSwitchDefault\n                              [sender]=\"sender\" [date]=\"date\" [message]=\"message\">\n        </nb-chat-message-text>\n      </ng-container>\n    </div>\n  `,\n  animations: [\n    trigger('flyInOut', [\n      state('in', style({ transform: 'translateX(0)' })),\n      transition('void => *', [\n        style({ transform: 'translateX(-100%)' }),\n        animate(80),\n      ]),\n      transition('* => void', [\n        animate(80, style({ transform: 'translateX(100%)' })),\n      ]),\n    ]),\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NbChatMessageComponent {\n\n\n  @HostBinding('@flyInOut')\n  get flyInOut() {\n    return true;\n  }\n\n  @HostBinding('class.not-reply')\n  get notReply() {\n    return !this.reply;\n  }\n\n  avatarStyle: SafeStyle;\n\n  /**\n   * Determines if a message is a reply\n   */\n  @Input()\n  @HostBinding('class.reply')\n  get reply(): boolean {\n    return this._reply;\n  }\n  set reply(value: boolean) {\n    this._reply = convertToBoolProperty(value);\n  }\n  protected _reply: boolean = false;\n\n  /**\n   * Message sender\n   * @type {string}\n   */\n  @Input() message: string;\n\n  /**\n   * Message sender\n   * @type {string}\n   */\n  @Input() sender: string;\n\n  /**\n   * Message send date\n   * @type {Date}\n   */\n  @Input() date: Date;\n\n  /**\n   * Array of files `{ url: 'file url', icon: 'file icon class' }`\n   * @type {string}\n   */\n  @Input() files: { url: string, icon: string }[];\n\n  /**\n   * Quoted message text\n   * @type {string}\n   */\n  @Input() quote: string;\n\n  /**\n   * Map latitude\n   * @type {number}\n   */\n  @Input() latitude: number;\n\n  /**\n   * Map longitude\n   * @type {number}\n   */\n  @Input() longitude: number;\n\n  /**\n   * Message send avatar\n   * @type {string}\n   */\n  @Input()\n  set avatar(value: string) {\n    this.avatarStyle = value ? this.domSanitizer.bypassSecurityTrustStyle(`url(${value})`) : null;\n  }\n\n  /**\n   * Message type, available options `text|file|map|quote`\n   * @type {string}\n   */\n  @Input() type: string;\n\n  constructor(protected domSanitizer: DomSanitizer) { }\n\n  getInitials(): string {\n    if (this.sender) {\n      const names = this.sender.split(' ');\n\n      return names.map(n => n.charAt(0)).splice(0, 2).join('').toUpperCase();\n    }\n\n    return '';\n  }\n}\n"]}